# 安全检查清单

> **版本**: v1.0.0  
> **更新日期**: 2026-02-20  
> **作者**: Vaultly Team  
> **文档类型**: 检查清单

---

## 版本历史

| 版本 | 日期 | 修改内容 | 作者 |
|------|------|----------|------|
| v1.0.0 | 2026-02-20 | 初始版本 | Vaultly Team |
| v1.1.0 | 2026-02-22 | 新增 WebDAV 同步加密检查项 | Vaultly Team |

---

## 一、加密安全

### 1.1 加密算法

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ AES-256-GCM | 使用 AES-256-GCM 加密算法 | ⬜ |
| ✅ 随机 IV | 每次加密生成随机 12 字节 IV | ⬜ |
| ✅ 密钥派生 | 使用 Argon2id 派生密钥 | ⬜ |
| ✅ 盐值 | 32 字节随机盐值 | ⬜ |

### 1.2 密钥管理

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 密钥不存储 | 密钥不持久化存储在纯文本 | ⬜ |
| ✅ Secure Storage | 使用平台安全存储 | ⬜ |
| ✅ 内存清除 | 敏感数据使用后清除内存 | ⬜ |

---

## 二、同步安全（WebDAV）

### 2.1 加密传输

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 端到端加密 | 同步数据必须经过 AES-256-GCM 加密 | ⬜ |
| ✅ 主密码派生 | 加密密钥必须从用户主密码派生 | ⬜ |
| ✅ 仅存储密文 | 服务器仅存储加密后的数据 | ⬜ |

### 2.2 压缩安全

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ GZIP 压缩 | 可选压缩以减少传输体积 | ⬜ |
| ✅ 先加密后压缩 | 加密后再压缩，保证安全性 | ⬜ |

### 2.3 传输安全

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ HTTPS 仅传输 | 仅允许 HTTPS 连接 | ⬜ |
| ✅ 凭证安全存储 | WebDAV 密码存储在系统钥匙串 | ⬜ |

---

## 三、认证安全

### 2.1 主密码

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 密码策略 | 最小长度、复杂度要求 | ⬜ |
| ✅ 密码哈希 | Argon2id 哈希验证 | ⬜ |
| ✅ 失败锁定 | 连续失败后锁定 | ⬜ |

---

## 三、数据安全

### 3.1 敏感数据

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 字段加密 | 所有敏感字段加密存储 | ⬜ |
| ✅ 密码加密 | 登录密码加密 | ⬜ |
| ✅ TOTP 加密 | TOTP 密钥加密 | ⬜ |
| ✅ 卡号加密 | 银行卡号加密 | ⬜ |
| ✅ CVV 加密 | CVV 加密 | ⬜ |

### 3.2 日志与调试

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 无敏感日志 | 不记录敏感数据到日志 | ⬜ |
| ✅ 调试关闭 | 发布版本关闭调试信息 | ⬜ |

---

## 四、网络安全

### 4.1 WebDAV 同步

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ HTTPS | 使用 HTTPS 传输 | ⬜ |
| ✅ 端到端加密 | 服务器仅存储密文 | ⬜ |
| ✅ 完整性校验 | 数据完整性校验 | ⬜ |

---

## 五、应用安全

### 5.1 运行时安全

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 自动锁定 | inactivity 自动锁定 | ⬜ |
| ✅ 剪贴板清除 | 复制后自动清除 | ⬜ |
| ✅ 防截图 | Android FLAG_SECURE | ⬜ |
| ✅ 安全键盘 | 输入安全考虑 | ⬜ |

### 5.2 平台安全

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ iOS Keychain | 使用 Keychain 存储密钥 | ⬜ |
| ✅ Android Keystore | 使用 Keystore | ⬜ |
| ✅ Windows DPAPI | 使用 DPAPI | ⬜ |

---

## 六、开发安全

### 6.1 代码安全

| 检查项 | 说明 | 状态 |
|--------|------|------|
| ✅ 无硬编码 | 无硬编码密钥/密码 | ⬜ |
| ✅ 安全依赖 | 定期更新依赖包 | ⬜ |
| ✅ 代码审计 | 定期安全审计 | ⬜ |

---

## 七、相关文档

- [安全架构](../02-架构设计/安全架构.md) - 详细安全设计
- [性能检查清单](./性能检查清单.md) - 性能检查项
- [版本规划](../06-开发计划/版本规划.md) - 开发计划
